<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>nitric.resources.apis API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>nitric.resources.apis</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#
# Copyright (c) 2021 Nitric Technologies Pty Ltd.
#
# This file is part of Nitric Python 3 SDK.
# See https://github.com/nitrictech/python-sdk for further info.
#
# Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
from __future__ import annotations
from typing import List, Union
from dataclasses import dataclass
from nitric.faas import ApiWorkerOptions, FunctionServer, HttpMiddleware, Middleware, MethodOptions, HttpMethod
from nitric.application import Nitric
from nitric.resources.base import BaseResource
from nitric.proto.nitric.resource.v1 import (
    Resource,
    ResourceType,
    ApiResource,
    ApiScopes,
    ApiSecurityDefinition,
    ApiSecurityDefinitionJwt,
    ResourceDeclareRequest,
    ResourceDetailsRequest,
)
from grpclib import GRPCError
from nitric.api.exception import exception_from_grpc_error


@dataclass
class ApiDetails:
    &#34;&#34;&#34;Represents the APIs deployment details.&#34;&#34;&#34;

    # the identifier of the resource
    id: str
    # The provider this resource is deployed with (e.g. aws)
    provider: str
    # The service this resource is deployed on (e.g. ApiGateway)
    service: str
    # The url of the API
    url: str


@dataclass
class JwtSecurityDefinition:
    &#34;&#34;&#34;Represents the JWT security definition for an API.&#34;&#34;&#34;

    issuer: str
    audiences: List[str]


# TODO: Union type for multiple security definition mappings
# type SecurityDefinition = JwtSecurityDefinition;

SecurityDefinition = JwtSecurityDefinition


class ApiOptions:
    &#34;&#34;&#34;Represents options when creating an API, such as middleware to be applied to all HTTP request to the API.&#34;&#34;&#34;

    path: str
    middleware: Union[HttpMiddleware, List[HttpMiddleware], None]
    security_definitions: Union[dict[str, SecurityDefinition], None]
    security: Union[dict[str, List[str]], None]

    def __init__(
        self,
        path: str = &#34;&#34;,
        middleware: List[Middleware] = [],
        security_definitions: dict[str, SecurityDefinition] = None,
        security: dict[str, List[str]] = None,
    ):
        &#34;&#34;&#34;Construct a new API options object.&#34;&#34;&#34;
        self.middleware = middleware
        self.security_definitions = security_definitions
        self.security = security
        self.path = path


class RouteOptions:
    &#34;&#34;&#34;Represents options when creating a route, such as middleware to be applied to all HTTP Methods for the route.&#34;&#34;&#34;

    middleware: Union[None, List[Middleware]]

    def __init__(self, middleware: List[Middleware] = []):
        &#34;&#34;&#34;Construct a new route options object.&#34;&#34;&#34;
        self.middleware = middleware


def _to_resource(b: Api) -&gt; Resource:
    return Resource(name=b.name, type=ResourceType.Api)


def _security_definition_to_grpc_declaration(
    security_definitions: dict[str, SecurityDefinition]
) -&gt; Union[dict[str, ApiSecurityDefinition], None]:
    if security_definitions is None or len(security_definitions) == 0:
        return None
    return {
        k: ApiSecurityDefinition(jwt=ApiSecurityDefinitionJwt(issuer=v.issuer, audiences=v.audiences))
        for k, v in security_definitions.items()
    }


def _security_to_grpc_declaration(security: dict[str, List[str]]) -&gt; dict[str, ApiScopes] | None:
    if security is None or len(security) == 0:
        return None
    return {k: ApiScopes(v) for k, v in security.items()}


class Api(BaseResource):
    &#34;&#34;&#34;An HTTP API.&#34;&#34;&#34;

    app: Nitric
    name: str
    path: str
    middleware: List[HttpMiddleware]
    routes: List[Route]
    security_definitions: dict[str, SecurityDefinition]
    security: dict[str, List[str]]

    def __init__(self, name: str, opts: ApiOptions = None):
        &#34;&#34;&#34;Construct a new HTTP API.&#34;&#34;&#34;
        super().__init__()
        if opts is None:
            opts = ApiOptions()

        self.name = name
        self.middleware = opts.middleware if opts.middleware is not None else []
        self.path = opts.path
        self.routes = []
        self.security_definitions = opts.security_definitions
        self.security = opts.security

    async def _register(self):
        try:
            await self._resources_stub.declare(
                resource_declare_request=ResourceDeclareRequest(
                    resource=_to_resource(self),
                    api=ApiResource(
                        security_definitions=_security_definition_to_grpc_declaration(self.security_definitions),
                        security=_security_to_grpc_declaration(self.security),
                    ),
                )
            )
        except GRPCError as grpc_err:
            raise exception_from_grpc_error(grpc_err)

    def _route(self, match: str, opts: RouteOptions = None) -&gt; Route:
        &#34;&#34;&#34;Define an HTTP route to be handled by this API.&#34;&#34;&#34;
        if opts is None:
            opts = RouteOptions()

        r = Route(self, match, opts)
        self.routes.append(r)
        return r

    def all(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.method(
                [
                    HttpMethod.GET,
                    HttpMethod.POST,
                    HttpMethod.PATCH,
                    HttpMethod.PUT,
                    HttpMethod.DELETE,
                    HttpMethod.OPTIONS,
                ],
                function,
                opts=opts,
            )

        return decorator

    def methods(self, methods: List[HttpMethod], match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.method(methods, function, opts=opts)

        return decorator

    def get(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.get(function, opts=opts)

        return decorator

    def post(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP POST requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.post(function, opts=opts)

        return decorator

    def delete(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP DELETE requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.delete(function, opts=opts)

        return decorator

    def options(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP OPTIONS requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.options(function, opts=opts)

        return decorator

    def patch(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP PATCH requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.patch(function, opts=opts)

        return decorator

    def put(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP PUT requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.put(function, opts=opts)

        return decorator

    async def _details(self) -&gt; ApiDetails:
        &#34;&#34;&#34;Get the API deployment details.&#34;&#34;&#34;
        try:
            res = await self._resources_stub.details(
                resource_details_request=ResourceDetailsRequest(
                    resource=_to_resource(self),
                )
            )
            return ApiDetails(res.id, res.provider, res.service, res.api.url)
        except GRPCError as grpc_err:
            raise exception_from_grpc_error(grpc_err)

    async def URL(self) -&gt; str:
        &#34;&#34;&#34;Get the APIs live URL.&#34;&#34;&#34;
        details = await self._details()
        return details.url


class Route:
    &#34;&#34;&#34;An HTTP route.&#34;&#34;&#34;

    api: Api
    path: str
    middleware: List[Middleware]

    def __init__(self, api: Api, path: str, opts: RouteOptions):
        &#34;&#34;&#34;Define a route to be handled by the provided API.&#34;&#34;&#34;
        self.api = api
        self.path = api.path.join(path)
        self.middleware = opts.middleware if opts.middleware is not None else []

    def method(self, methods: List[HttpMethod], *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for multiple HTTP Methods.&#34;&#34;&#34;
        return Method(self, methods, *middleware, opts=opts).start()

    def get(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP GET requests.&#34;&#34;&#34;
        return self.method([HttpMethod.GET], *middleware, opts=opts)

    def post(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP POST requests.&#34;&#34;&#34;
        return self.method([HttpMethod.POST], *middleware, opts=opts)

    def put(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP PUT requests.&#34;&#34;&#34;
        return self.method([HttpMethod.PUT], *middleware, opts=opts)

    def patch(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP PATCH requests.&#34;&#34;&#34;
        return self.method([HttpMethod.PATCH], *middleware, opts=opts)

    def delete(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP DELETE requests.&#34;&#34;&#34;
        return self.method([HttpMethod.DELETE], *middleware, opts=opts)

    def options(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP OPTIONS requests.&#34;&#34;&#34;
        return self.method([HttpMethod.OPTIONS], *middleware, opts=opts)


class Method:
    &#34;&#34;&#34;A method handler.&#34;&#34;&#34;

    server: FunctionServer
    route: Route
    methods: List[HttpMethod]
    opts: MethodOptions

    def __init__(
        self, route: Route, methods: List[HttpMethod], *middleware: HttpMiddleware, opts: MethodOptions = None
    ):
        &#34;&#34;&#34;Construct a method handler for the specified route.&#34;&#34;&#34;
        self.route = route
        self.methods = methods
        self.server = FunctionServer(ApiWorkerOptions(route.api.name, route.path, methods, opts))
        self.server.http(*route.api.middleware, *route.middleware, *middleware)

    def start(self):
        &#34;&#34;&#34;Start the server which will respond to incoming requests.&#34;&#34;&#34;
        Nitric._register_worker(self.server)


def api(name: str, opts: ApiOptions = None) -&gt; Api:
    &#34;&#34;&#34;Create a new API resource.&#34;&#34;&#34;
    return Nitric._create_resource(Api, name, opts=opts)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="nitric.resources.apis.api"><code class="name flex">
<span>def <span class="ident">api</span></span>(<span>name: str, opts: <a title="nitric.resources.apis.ApiOptions" href="#nitric.resources.apis.ApiOptions">ApiOptions</a> = None) ‑> <a title="nitric.resources.apis.Api" href="#nitric.resources.apis.Api">Api</a></span>
</code></dt>
<dd>
<div class="desc"><p>Create a new API resource.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def api(name: str, opts: ApiOptions = None) -&gt; Api:
    &#34;&#34;&#34;Create a new API resource.&#34;&#34;&#34;
    return Nitric._create_resource(Api, name, opts=opts)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="nitric.resources.apis.Api"><code class="flex name class">
<span>class <span class="ident">Api</span></span>
<span>(</span><span>name: str, opts: <a title="nitric.resources.apis.ApiOptions" href="#nitric.resources.apis.ApiOptions">ApiOptions</a> = None)</span>
</code></dt>
<dd>
<div class="desc"><p>An HTTP API.</p>
<p>Construct a new HTTP API.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Api(BaseResource):
    &#34;&#34;&#34;An HTTP API.&#34;&#34;&#34;

    app: Nitric
    name: str
    path: str
    middleware: List[HttpMiddleware]
    routes: List[Route]
    security_definitions: dict[str, SecurityDefinition]
    security: dict[str, List[str]]

    def __init__(self, name: str, opts: ApiOptions = None):
        &#34;&#34;&#34;Construct a new HTTP API.&#34;&#34;&#34;
        super().__init__()
        if opts is None:
            opts = ApiOptions()

        self.name = name
        self.middleware = opts.middleware if opts.middleware is not None else []
        self.path = opts.path
        self.routes = []
        self.security_definitions = opts.security_definitions
        self.security = opts.security

    async def _register(self):
        try:
            await self._resources_stub.declare(
                resource_declare_request=ResourceDeclareRequest(
                    resource=_to_resource(self),
                    api=ApiResource(
                        security_definitions=_security_definition_to_grpc_declaration(self.security_definitions),
                        security=_security_to_grpc_declaration(self.security),
                    ),
                )
            )
        except GRPCError as grpc_err:
            raise exception_from_grpc_error(grpc_err)

    def _route(self, match: str, opts: RouteOptions = None) -&gt; Route:
        &#34;&#34;&#34;Define an HTTP route to be handled by this API.&#34;&#34;&#34;
        if opts is None:
            opts = RouteOptions()

        r = Route(self, match, opts)
        self.routes.append(r)
        return r

    def all(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.method(
                [
                    HttpMethod.GET,
                    HttpMethod.POST,
                    HttpMethod.PATCH,
                    HttpMethod.PUT,
                    HttpMethod.DELETE,
                    HttpMethod.OPTIONS,
                ],
                function,
                opts=opts,
            )

        return decorator

    def methods(self, methods: List[HttpMethod], match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.method(methods, function, opts=opts)

        return decorator

    def get(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.get(function, opts=opts)

        return decorator

    def post(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP POST requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.post(function, opts=opts)

        return decorator

    def delete(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP DELETE requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.delete(function, opts=opts)

        return decorator

    def options(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP OPTIONS requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.options(function, opts=opts)

        return decorator

    def patch(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP PATCH requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.patch(function, opts=opts)

        return decorator

    def put(self, match: str, opts: MethodOptions = None):
        &#34;&#34;&#34;Define an HTTP route which will respond to HTTP PUT requests.&#34;&#34;&#34;
        if opts is None:
            opts = MethodOptions()

        def decorator(function: HttpMiddleware):
            r = self._route(match)
            r.put(function, opts=opts)

        return decorator

    async def _details(self) -&gt; ApiDetails:
        &#34;&#34;&#34;Get the API deployment details.&#34;&#34;&#34;
        try:
            res = await self._resources_stub.details(
                resource_details_request=ResourceDetailsRequest(
                    resource=_to_resource(self),
                )
            )
            return ApiDetails(res.id, res.provider, res.service, res.api.url)
        except GRPCError as grpc_err:
            raise exception_from_grpc_error(grpc_err)

    async def URL(self) -&gt; str:
        &#34;&#34;&#34;Get the APIs live URL.&#34;&#34;&#34;
        details = await self._details()
        return details.url</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="nitric.resources.base.BaseResource" href="base.html#nitric.resources.base.BaseResource">BaseResource</a></li>
<li>abc.ABC</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="nitric.resources.apis.Api.app"><code class="name">var <span class="ident">app</span> : <a title="nitric.application.Nitric" href="../application.html#nitric.application.Nitric">Nitric</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Api.middleware"><code class="name">var <span class="ident">middleware</span> : List[Callable[[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>, Coroutine[Any, Any, Optional[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>]]], Coroutine[Any, Any, Optional[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>]]]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Api.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Api.path"><code class="name">var <span class="ident">path</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Api.routes"><code class="name">var <span class="ident">routes</span> : List[<a title="nitric.resources.apis.Route" href="#nitric.resources.apis.Route">Route</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Api.security"><code class="name">var <span class="ident">security</span> : dict[str, typing.List[str]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Api.security_definitions"><code class="name">var <span class="ident">security_definitions</span> : dict[str, <a title="nitric.resources.apis.JwtSecurityDefinition" href="#nitric.resources.apis.JwtSecurityDefinition">JwtSecurityDefinition</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="nitric.resources.apis.Api.URL"><code class="name flex">
<span>async def <span class="ident">URL</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Get the APIs live URL.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def URL(self) -&gt; str:
    &#34;&#34;&#34;Get the APIs live URL.&#34;&#34;&#34;
    details = await self._details()
    return details.url</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Api.all"><code class="name flex">
<span>def <span class="ident">all</span></span>(<span>self, match: str, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Define an HTTP route which will respond to HTTP GET requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def all(self, match: str, opts: MethodOptions = None):
    &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
    if opts is None:
        opts = MethodOptions()

    def decorator(function: HttpMiddleware):
        r = self._route(match)
        r.method(
            [
                HttpMethod.GET,
                HttpMethod.POST,
                HttpMethod.PATCH,
                HttpMethod.PUT,
                HttpMethod.DELETE,
                HttpMethod.OPTIONS,
            ],
            function,
            opts=opts,
        )

    return decorator</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Api.delete"><code class="name flex">
<span>def <span class="ident">delete</span></span>(<span>self, match: str, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Define an HTTP route which will respond to HTTP DELETE requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete(self, match: str, opts: MethodOptions = None):
    &#34;&#34;&#34;Define an HTTP route which will respond to HTTP DELETE requests.&#34;&#34;&#34;
    if opts is None:
        opts = MethodOptions()

    def decorator(function: HttpMiddleware):
        r = self._route(match)
        r.delete(function, opts=opts)

    return decorator</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Api.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, match: str, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Define an HTTP route which will respond to HTTP GET requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self, match: str, opts: MethodOptions = None):
    &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
    if opts is None:
        opts = MethodOptions()

    def decorator(function: HttpMiddleware):
        r = self._route(match)
        r.get(function, opts=opts)

    return decorator</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Api.methods"><code class="name flex">
<span>def <span class="ident">methods</span></span>(<span>self, methods: List[HttpMethod], match: str, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Define an HTTP route which will respond to HTTP GET requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def methods(self, methods: List[HttpMethod], match: str, opts: MethodOptions = None):
    &#34;&#34;&#34;Define an HTTP route which will respond to HTTP GET requests.&#34;&#34;&#34;
    if opts is None:
        opts = MethodOptions()

    def decorator(function: HttpMiddleware):
        r = self._route(match)
        r.method(methods, function, opts=opts)

    return decorator</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Api.options"><code class="name flex">
<span>def <span class="ident">options</span></span>(<span>self, match: str, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Define an HTTP route which will respond to HTTP OPTIONS requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def options(self, match: str, opts: MethodOptions = None):
    &#34;&#34;&#34;Define an HTTP route which will respond to HTTP OPTIONS requests.&#34;&#34;&#34;
    if opts is None:
        opts = MethodOptions()

    def decorator(function: HttpMiddleware):
        r = self._route(match)
        r.options(function, opts=opts)

    return decorator</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Api.patch"><code class="name flex">
<span>def <span class="ident">patch</span></span>(<span>self, match: str, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Define an HTTP route which will respond to HTTP PATCH requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def patch(self, match: str, opts: MethodOptions = None):
    &#34;&#34;&#34;Define an HTTP route which will respond to HTTP PATCH requests.&#34;&#34;&#34;
    if opts is None:
        opts = MethodOptions()

    def decorator(function: HttpMiddleware):
        r = self._route(match)
        r.patch(function, opts=opts)

    return decorator</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Api.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self, match: str, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Define an HTTP route which will respond to HTTP POST requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self, match: str, opts: MethodOptions = None):
    &#34;&#34;&#34;Define an HTTP route which will respond to HTTP POST requests.&#34;&#34;&#34;
    if opts is None:
        opts = MethodOptions()

    def decorator(function: HttpMiddleware):
        r = self._route(match)
        r.post(function, opts=opts)

    return decorator</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Api.put"><code class="name flex">
<span>def <span class="ident">put</span></span>(<span>self, match: str, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Define an HTTP route which will respond to HTTP PUT requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def put(self, match: str, opts: MethodOptions = None):
    &#34;&#34;&#34;Define an HTTP route which will respond to HTTP PUT requests.&#34;&#34;&#34;
    if opts is None:
        opts = MethodOptions()

    def decorator(function: HttpMiddleware):
        r = self._route(match)
        r.put(function, opts=opts)

    return decorator</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="nitric.resources.base.BaseResource" href="base.html#nitric.resources.base.BaseResource">BaseResource</a></b></code>:
<ul class="hlist">
<li><code><a title="nitric.resources.base.BaseResource.make" href="base.html#nitric.resources.base.BaseResource.make">make</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="nitric.resources.apis.ApiDetails"><code class="flex name class">
<span>class <span class="ident">ApiDetails</span></span>
<span>(</span><span>id: str, provider: str, service: str, url: str)</span>
</code></dt>
<dd>
<div class="desc"><p>Represents the APIs deployment details.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class ApiDetails:
    &#34;&#34;&#34;Represents the APIs deployment details.&#34;&#34;&#34;

    # the identifier of the resource
    id: str
    # The provider this resource is deployed with (e.g. aws)
    provider: str
    # The service this resource is deployed on (e.g. ApiGateway)
    service: str
    # The url of the API
    url: str</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="nitric.resources.apis.ApiDetails.id"><code class="name">var <span class="ident">id</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.ApiDetails.provider"><code class="name">var <span class="ident">provider</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.ApiDetails.service"><code class="name">var <span class="ident">service</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.ApiDetails.url"><code class="name">var <span class="ident">url</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="nitric.resources.apis.ApiOptions"><code class="flex name class">
<span>class <span class="ident">ApiOptions</span></span>
<span>(</span><span>path: str = '', middleware: List[Middleware] = [], security_definitions: dict[str, <a title="nitric.resources.apis.JwtSecurityDefinition" href="#nitric.resources.apis.JwtSecurityDefinition">JwtSecurityDefinition</a>] = None, security: dict[str, List[str]] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Represents options when creating an API, such as middleware to be applied to all HTTP request to the API.</p>
<p>Construct a new API options object.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ApiOptions:
    &#34;&#34;&#34;Represents options when creating an API, such as middleware to be applied to all HTTP request to the API.&#34;&#34;&#34;

    path: str
    middleware: Union[HttpMiddleware, List[HttpMiddleware], None]
    security_definitions: Union[dict[str, SecurityDefinition], None]
    security: Union[dict[str, List[str]], None]

    def __init__(
        self,
        path: str = &#34;&#34;,
        middleware: List[Middleware] = [],
        security_definitions: dict[str, SecurityDefinition] = None,
        security: dict[str, List[str]] = None,
    ):
        &#34;&#34;&#34;Construct a new API options object.&#34;&#34;&#34;
        self.middleware = middleware
        self.security_definitions = security_definitions
        self.security = security
        self.path = path</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="nitric.resources.apis.ApiOptions.middleware"><code class="name">var <span class="ident">middleware</span> : Union[Callable[[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>, Coroutine[Any, Any, Optional[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>]]], Coroutine[Any, Any, Optional[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>]]], List[Callable[[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>, Coroutine[Any, Any, Optional[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>]]], Coroutine[Any, Any, Optional[<a title="nitric.faas.HttpContext" href="../faas.html#nitric.faas.HttpContext">HttpContext</a>]]]], NoneType]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.ApiOptions.path"><code class="name">var <span class="ident">path</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.ApiOptions.security"><code class="name">var <span class="ident">security</span> : Optional[dict[str, List[str]]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.ApiOptions.security_definitions"><code class="name">var <span class="ident">security_definitions</span> : Optional[dict[str, <a title="nitric.resources.apis.JwtSecurityDefinition" href="#nitric.resources.apis.JwtSecurityDefinition">JwtSecurityDefinition</a>]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="nitric.resources.apis.JwtSecurityDefinition"><code class="flex name class">
<span>class <span class="ident">JwtSecurityDefinition</span></span>
<span>(</span><span>issuer: str, audiences: List[str])</span>
</code></dt>
<dd>
<div class="desc"><p>Represents the JWT security definition for an API.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class JwtSecurityDefinition:
    &#34;&#34;&#34;Represents the JWT security definition for an API.&#34;&#34;&#34;

    issuer: str
    audiences: List[str]</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="nitric.resources.apis.JwtSecurityDefinition.audiences"><code class="name">var <span class="ident">audiences</span> : List[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.JwtSecurityDefinition.issuer"><code class="name">var <span class="ident">issuer</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="nitric.resources.apis.JwtSecurityDefinition"><code class="flex name class">
<span>class <span class="ident">SecurityDefinition</span></span>
<span>(</span><span>issuer: str, audiences: List[str])</span>
</code></dt>
<dd>
<div class="desc"><p>Represents the JWT security definition for an API.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class JwtSecurityDefinition:
    &#34;&#34;&#34;Represents the JWT security definition for an API.&#34;&#34;&#34;

    issuer: str
    audiences: List[str]</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="nitric.resources.apis.JwtSecurityDefinition.audiences"><code class="name">var <span class="ident">audiences</span> : List[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.JwtSecurityDefinition.issuer"><code class="name">var <span class="ident">issuer</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="nitric.resources.apis.Method"><code class="flex name class">
<span>class <span class="ident">Method</span></span>
<span>(</span><span>route: <a title="nitric.resources.apis.Route" href="#nitric.resources.apis.Route">Route</a>, methods: List[HttpMethod], *middleware: HttpMiddleware, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>A method handler.</p>
<p>Construct a method handler for the specified route.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Method:
    &#34;&#34;&#34;A method handler.&#34;&#34;&#34;

    server: FunctionServer
    route: Route
    methods: List[HttpMethod]
    opts: MethodOptions

    def __init__(
        self, route: Route, methods: List[HttpMethod], *middleware: HttpMiddleware, opts: MethodOptions = None
    ):
        &#34;&#34;&#34;Construct a method handler for the specified route.&#34;&#34;&#34;
        self.route = route
        self.methods = methods
        self.server = FunctionServer(ApiWorkerOptions(route.api.name, route.path, methods, opts))
        self.server.http(*route.api.middleware, *route.middleware, *middleware)

    def start(self):
        &#34;&#34;&#34;Start the server which will respond to incoming requests.&#34;&#34;&#34;
        Nitric._register_worker(self.server)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="nitric.resources.apis.Method.methods"><code class="name">var <span class="ident">methods</span> : List[<a title="nitric.faas.HttpMethod" href="../faas.html#nitric.faas.HttpMethod">HttpMethod</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Method.opts"><code class="name">var <span class="ident">opts</span> : <a title="nitric.faas.MethodOptions" href="../faas.html#nitric.faas.MethodOptions">MethodOptions</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Method.route"><code class="name">var <span class="ident">route</span> : <a title="nitric.resources.apis.Route" href="#nitric.resources.apis.Route">Route</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Method.server"><code class="name">var <span class="ident">server</span> : <a title="nitric.faas.FunctionServer" href="../faas.html#nitric.faas.FunctionServer">FunctionServer</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="nitric.resources.apis.Method.start"><code class="name flex">
<span>def <span class="ident">start</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Start the server which will respond to incoming requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start(self):
    &#34;&#34;&#34;Start the server which will respond to incoming requests.&#34;&#34;&#34;
    Nitric._register_worker(self.server)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="nitric.resources.apis.Route"><code class="flex name class">
<span>class <span class="ident">Route</span></span>
<span>(</span><span>api: <a title="nitric.resources.apis.Api" href="#nitric.resources.apis.Api">Api</a>, path: str, opts: <a title="nitric.resources.apis.RouteOptions" href="#nitric.resources.apis.RouteOptions">RouteOptions</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>An HTTP route.</p>
<p>Define a route to be handled by the provided API.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Route:
    &#34;&#34;&#34;An HTTP route.&#34;&#34;&#34;

    api: Api
    path: str
    middleware: List[Middleware]

    def __init__(self, api: Api, path: str, opts: RouteOptions):
        &#34;&#34;&#34;Define a route to be handled by the provided API.&#34;&#34;&#34;
        self.api = api
        self.path = api.path.join(path)
        self.middleware = opts.middleware if opts.middleware is not None else []

    def method(self, methods: List[HttpMethod], *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for multiple HTTP Methods.&#34;&#34;&#34;
        return Method(self, methods, *middleware, opts=opts).start()

    def get(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP GET requests.&#34;&#34;&#34;
        return self.method([HttpMethod.GET], *middleware, opts=opts)

    def post(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP POST requests.&#34;&#34;&#34;
        return self.method([HttpMethod.POST], *middleware, opts=opts)

    def put(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP PUT requests.&#34;&#34;&#34;
        return self.method([HttpMethod.PUT], *middleware, opts=opts)

    def patch(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP PATCH requests.&#34;&#34;&#34;
        return self.method([HttpMethod.PATCH], *middleware, opts=opts)

    def delete(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP DELETE requests.&#34;&#34;&#34;
        return self.method([HttpMethod.DELETE], *middleware, opts=opts)

    def options(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
        &#34;&#34;&#34;Register middleware for HTTP OPTIONS requests.&#34;&#34;&#34;
        return self.method([HttpMethod.OPTIONS], *middleware, opts=opts)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="nitric.resources.apis.Route.api"><code class="name">var <span class="ident">api</span> : <a title="nitric.resources.apis.Api" href="#nitric.resources.apis.Api">Api</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Route.middleware"><code class="name">var <span class="ident">middleware</span> : List[Callable[[~C, Callable], Coroutine[Any, Any, ~C]]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="nitric.resources.apis.Route.path"><code class="name">var <span class="ident">path</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="nitric.resources.apis.Route.delete"><code class="name flex">
<span>def <span class="ident">delete</span></span>(<span>self, *middleware: HttpMiddleware, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register middleware for HTTP DELETE requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
    &#34;&#34;&#34;Register middleware for HTTP DELETE requests.&#34;&#34;&#34;
    return self.method([HttpMethod.DELETE], *middleware, opts=opts)</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Route.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, *middleware: HttpMiddleware, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register middleware for HTTP GET requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
    &#34;&#34;&#34;Register middleware for HTTP GET requests.&#34;&#34;&#34;
    return self.method([HttpMethod.GET], *middleware, opts=opts)</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Route.method"><code class="name flex">
<span>def <span class="ident">method</span></span>(<span>self, methods: List[HttpMethod], *middleware: HttpMiddleware, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register middleware for multiple HTTP Methods.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def method(self, methods: List[HttpMethod], *middleware: HttpMiddleware, opts: MethodOptions = None):
    &#34;&#34;&#34;Register middleware for multiple HTTP Methods.&#34;&#34;&#34;
    return Method(self, methods, *middleware, opts=opts).start()</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Route.options"><code class="name flex">
<span>def <span class="ident">options</span></span>(<span>self, *middleware: HttpMiddleware, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register middleware for HTTP OPTIONS requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def options(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
    &#34;&#34;&#34;Register middleware for HTTP OPTIONS requests.&#34;&#34;&#34;
    return self.method([HttpMethod.OPTIONS], *middleware, opts=opts)</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Route.patch"><code class="name flex">
<span>def <span class="ident">patch</span></span>(<span>self, *middleware: HttpMiddleware, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register middleware for HTTP PATCH requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def patch(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
    &#34;&#34;&#34;Register middleware for HTTP PATCH requests.&#34;&#34;&#34;
    return self.method([HttpMethod.PATCH], *middleware, opts=opts)</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Route.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self, *middleware: HttpMiddleware, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register middleware for HTTP POST requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
    &#34;&#34;&#34;Register middleware for HTTP POST requests.&#34;&#34;&#34;
    return self.method([HttpMethod.POST], *middleware, opts=opts)</code></pre>
</details>
</dd>
<dt id="nitric.resources.apis.Route.put"><code class="name flex">
<span>def <span class="ident">put</span></span>(<span>self, *middleware: HttpMiddleware, opts: MethodOptions = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Register middleware for HTTP PUT requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def put(self, *middleware: HttpMiddleware, opts: MethodOptions = None):
    &#34;&#34;&#34;Register middleware for HTTP PUT requests.&#34;&#34;&#34;
    return self.method([HttpMethod.PUT], *middleware, opts=opts)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="nitric.resources.apis.RouteOptions"><code class="flex name class">
<span>class <span class="ident">RouteOptions</span></span>
<span>(</span><span>middleware: List[Middleware] = [])</span>
</code></dt>
<dd>
<div class="desc"><p>Represents options when creating a route, such as middleware to be applied to all HTTP Methods for the route.</p>
<p>Construct a new route options object.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RouteOptions:
    &#34;&#34;&#34;Represents options when creating a route, such as middleware to be applied to all HTTP Methods for the route.&#34;&#34;&#34;

    middleware: Union[None, List[Middleware]]

    def __init__(self, middleware: List[Middleware] = []):
        &#34;&#34;&#34;Construct a new route options object.&#34;&#34;&#34;
        self.middleware = middleware</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="nitric.resources.apis.RouteOptions.middleware"><code class="name">var <span class="ident">middleware</span> : Optional[List[Callable[[~C, Callable], Coroutine[Any, Any, ~C]]]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="nitric.resources" href="index.html">nitric.resources</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="nitric.resources.apis.api" href="#nitric.resources.apis.api">api</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="nitric.resources.apis.Api" href="#nitric.resources.apis.Api">Api</a></code></h4>
<ul class="">
<li><code><a title="nitric.resources.apis.Api.URL" href="#nitric.resources.apis.Api.URL">URL</a></code></li>
<li><code><a title="nitric.resources.apis.Api.all" href="#nitric.resources.apis.Api.all">all</a></code></li>
<li><code><a title="nitric.resources.apis.Api.app" href="#nitric.resources.apis.Api.app">app</a></code></li>
<li><code><a title="nitric.resources.apis.Api.delete" href="#nitric.resources.apis.Api.delete">delete</a></code></li>
<li><code><a title="nitric.resources.apis.Api.get" href="#nitric.resources.apis.Api.get">get</a></code></li>
<li><code><a title="nitric.resources.apis.Api.methods" href="#nitric.resources.apis.Api.methods">methods</a></code></li>
<li><code><a title="nitric.resources.apis.Api.middleware" href="#nitric.resources.apis.Api.middleware">middleware</a></code></li>
<li><code><a title="nitric.resources.apis.Api.name" href="#nitric.resources.apis.Api.name">name</a></code></li>
<li><code><a title="nitric.resources.apis.Api.options" href="#nitric.resources.apis.Api.options">options</a></code></li>
<li><code><a title="nitric.resources.apis.Api.patch" href="#nitric.resources.apis.Api.patch">patch</a></code></li>
<li><code><a title="nitric.resources.apis.Api.path" href="#nitric.resources.apis.Api.path">path</a></code></li>
<li><code><a title="nitric.resources.apis.Api.post" href="#nitric.resources.apis.Api.post">post</a></code></li>
<li><code><a title="nitric.resources.apis.Api.put" href="#nitric.resources.apis.Api.put">put</a></code></li>
<li><code><a title="nitric.resources.apis.Api.routes" href="#nitric.resources.apis.Api.routes">routes</a></code></li>
<li><code><a title="nitric.resources.apis.Api.security" href="#nitric.resources.apis.Api.security">security</a></code></li>
<li><code><a title="nitric.resources.apis.Api.security_definitions" href="#nitric.resources.apis.Api.security_definitions">security_definitions</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="nitric.resources.apis.ApiDetails" href="#nitric.resources.apis.ApiDetails">ApiDetails</a></code></h4>
<ul class="">
<li><code><a title="nitric.resources.apis.ApiDetails.id" href="#nitric.resources.apis.ApiDetails.id">id</a></code></li>
<li><code><a title="nitric.resources.apis.ApiDetails.provider" href="#nitric.resources.apis.ApiDetails.provider">provider</a></code></li>
<li><code><a title="nitric.resources.apis.ApiDetails.service" href="#nitric.resources.apis.ApiDetails.service">service</a></code></li>
<li><code><a title="nitric.resources.apis.ApiDetails.url" href="#nitric.resources.apis.ApiDetails.url">url</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="nitric.resources.apis.ApiOptions" href="#nitric.resources.apis.ApiOptions">ApiOptions</a></code></h4>
<ul class="">
<li><code><a title="nitric.resources.apis.ApiOptions.middleware" href="#nitric.resources.apis.ApiOptions.middleware">middleware</a></code></li>
<li><code><a title="nitric.resources.apis.ApiOptions.path" href="#nitric.resources.apis.ApiOptions.path">path</a></code></li>
<li><code><a title="nitric.resources.apis.ApiOptions.security" href="#nitric.resources.apis.ApiOptions.security">security</a></code></li>
<li><code><a title="nitric.resources.apis.ApiOptions.security_definitions" href="#nitric.resources.apis.ApiOptions.security_definitions">security_definitions</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="nitric.resources.apis.JwtSecurityDefinition" href="#nitric.resources.apis.JwtSecurityDefinition">JwtSecurityDefinition</a></code></h4>
<ul class="">
<li><code><a title="nitric.resources.apis.JwtSecurityDefinition.audiences" href="#nitric.resources.apis.JwtSecurityDefinition.audiences">audiences</a></code></li>
<li><code><a title="nitric.resources.apis.JwtSecurityDefinition.issuer" href="#nitric.resources.apis.JwtSecurityDefinition.issuer">issuer</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="nitric.resources.apis.JwtSecurityDefinition" href="#nitric.resources.apis.JwtSecurityDefinition">JwtSecurityDefinition</a></code></h4>
<ul class="">
<li><code><a title="nitric.resources.apis.JwtSecurityDefinition.audiences" href="#nitric.resources.apis.JwtSecurityDefinition.audiences">audiences</a></code></li>
<li><code><a title="nitric.resources.apis.JwtSecurityDefinition.issuer" href="#nitric.resources.apis.JwtSecurityDefinition.issuer">issuer</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="nitric.resources.apis.Method" href="#nitric.resources.apis.Method">Method</a></code></h4>
<ul class="">
<li><code><a title="nitric.resources.apis.Method.methods" href="#nitric.resources.apis.Method.methods">methods</a></code></li>
<li><code><a title="nitric.resources.apis.Method.opts" href="#nitric.resources.apis.Method.opts">opts</a></code></li>
<li><code><a title="nitric.resources.apis.Method.route" href="#nitric.resources.apis.Method.route">route</a></code></li>
<li><code><a title="nitric.resources.apis.Method.server" href="#nitric.resources.apis.Method.server">server</a></code></li>
<li><code><a title="nitric.resources.apis.Method.start" href="#nitric.resources.apis.Method.start">start</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="nitric.resources.apis.Route" href="#nitric.resources.apis.Route">Route</a></code></h4>
<ul class="two-column">
<li><code><a title="nitric.resources.apis.Route.api" href="#nitric.resources.apis.Route.api">api</a></code></li>
<li><code><a title="nitric.resources.apis.Route.delete" href="#nitric.resources.apis.Route.delete">delete</a></code></li>
<li><code><a title="nitric.resources.apis.Route.get" href="#nitric.resources.apis.Route.get">get</a></code></li>
<li><code><a title="nitric.resources.apis.Route.method" href="#nitric.resources.apis.Route.method">method</a></code></li>
<li><code><a title="nitric.resources.apis.Route.middleware" href="#nitric.resources.apis.Route.middleware">middleware</a></code></li>
<li><code><a title="nitric.resources.apis.Route.options" href="#nitric.resources.apis.Route.options">options</a></code></li>
<li><code><a title="nitric.resources.apis.Route.patch" href="#nitric.resources.apis.Route.patch">patch</a></code></li>
<li><code><a title="nitric.resources.apis.Route.path" href="#nitric.resources.apis.Route.path">path</a></code></li>
<li><code><a title="nitric.resources.apis.Route.post" href="#nitric.resources.apis.Route.post">post</a></code></li>
<li><code><a title="nitric.resources.apis.Route.put" href="#nitric.resources.apis.Route.put">put</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="nitric.resources.apis.RouteOptions" href="#nitric.resources.apis.RouteOptions">RouteOptions</a></code></h4>
<ul class="">
<li><code><a title="nitric.resources.apis.RouteOptions.middleware" href="#nitric.resources.apis.RouteOptions.middleware">middleware</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>